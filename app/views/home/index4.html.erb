
<%= javascript_include_tag 'index4' %>
<script id="vs" type="x-shader/x-vertex">
  attribute vec3 position;
  attribute vec4 color;
  uniform mat4 mvpMatrix;
  uniform vec3 direction;
  uniform int count;
  varying vec4 vColor;
  void main(){
  	vec3 vPosition = position + direction * vec3(count, count, count);
    gl_Position = mvpMatrix * vec4(vPosition, 1.0);
    vColor = color;
  }
</script>
<script id="fs" type="x-shader/x-fragment">
  precision mediump float;
  varying vec4 vColor;
  void main(){
    gl_FragColor = vColor;
  }
</script>
</head>
<body>
  <canvas id="canvas"></canvas>
</body>
